Complete Fix Prompt for Replit Agent:
Fix the "Unsupported question type: company_profile" error and ensure Q1 displays properly. Address ALL aspects:

**1. QuestionRegistryLegoBlock Integration:**
- Add 'company_profile' case to the renderQuestion switch statement
- Import CompanyProfileLegoBlock at the top of the file
- Ensure proper component mapping

**2. Database Schema Updates:**
- Add 'company_profile' to the question_type enum/constraint
- Verify Q1 question_type is set to 'company_profile' in database
- Update shared schema.ts to include 'company_profile' type

**3. Component Registration:**
- Verify CompanyProfileLegoBlock is properly exported
- Check for any TypeScript compilation errors
- Ensure all imports are working correctly

**4. UI Display Requirements:**
For Q1 Company Profile, ensure the component shows:
- **Company Name**: "RSA Insurance" (read-only, pre-filled)
- **GWP Input**: Currency field with Â£ symbol and GBP selector
- **Company Tier**: Radio buttons with clear labels
- **Primary Markets**: Checkboxes for Personal/Commercial/Specialty/Reinsurance  
- **Geographic Focus**: Text input field
- **Notes**: Large textarea for additional context
- **Professional styling**: Card layout with proper spacing and RSA branding

**5. Data Handling:**
- Ensure component accepts proper props (question, value, onChange)
- Handle JSON serialization for complex form data
- Save all fields to database properly
- Test auto-save functionality

**6. Error Handling:**
- Add fallback if question_data is malformed
- Handle empty/undefined values gracefully
- Show loading states while saving

**7. Testing Requirements:**
After implementation:
- Q1 should display the complete company profile form
- All fields should be functional and save properly
- No "Unsupported question type" errors
- Component should integrate seamlessly with existing assessment flow

Fix ALL of these aspects to ensure Q1 Company Profile displays and functions perfectly.
ðŸŽ¯ Why This Comprehensive Approach Matters:
When implementing compound questions like Company Profile, we need to ensure:

âœ… Backend Integration - Database schema and API support
âœ… Frontend Registration - Component mapping and imports
âœ… UI/UX Excellence - Professional executive-friendly interface
âœ… Data Persistence - Proper saving and auto-save functionality
âœ… Error Handling - Graceful fallbacks and validation
âœ… Testing Coverage - End-to-end functionality verification

The "Unsupported question type" error indicates the registration step wasn't completed, but we need to address the entire implementation chain to ensure Q1 works perfectly for stakeholder interviews.
This comprehensive approach ensures Q1 becomes a professional, executive-ready company profile capture that sets the perfect foundation for RSA strategic discussions! 