Here's a comprehensive audit prompt you can give to the Replit agent:

---

## Replit Agent Audit Prompt

```
AUDIT REQUEST: Pre-Enhancement Discovery for Markel AI@Scale Platform Expansion

Before building any new features, I need you to conduct a thorough audit of the existing codebase and report back what exists. DO NOT make any changes - only report findings.

=== PART 1: DATABASE SCHEMA AUDIT ===

1. Review shared/schema.ts and report:
   - All tables that exist and their field counts
   - The metadata_config table structure - specifically what JSONB fields exist and their current contents
   - Any existing fields in use_cases table related to:
     * Phases/stages/status progression
     * Governance (owners, approvers, review bodies)
     * Value/metrics (baseline, target, actuals, ROI)
     * Transition/staffing/ownership
   - Any unused or deprecated fields that could be repurposed

2. Check the database for actual data:
   - How many use cases exist?
   - What values are currently in metadata_config?
   - Are there any existing phase/status values in use?

=== PART 2: API ROUTES AUDIT ===

3. Review server/routes.ts and report:
   - All existing API endpoints (list them by category)
   - Any endpoints related to configuration/metadata updates
   - Any endpoints that could support value tracking
   - Any batch/bulk update capabilities

=== PART 3: FRONTEND COMPONENTS AUDIT ===

4. Review client/src/components/ and report:
   - List all LEGO block components and their purposes
   - Any existing dashboard/analytics components
   - Any existing configuration/admin panels
   - Any chart components (especially timeline, progress, or staffing-related)

5. Review client/src/pages/ and report:
   - All existing pages/routes
   - Admin panel capabilities
   - Any settings or configuration pages

=== PART 4: EXISTING FEATURE GAPS ===

6. Specifically check if ANY of these already exist (even partially):
   
   FOR TOM (Operating Model):
   - Phase definitions or stage configurations
   - Governance body definitions
   - Operating model presets
   - Use case to phase assignments
   
   FOR VALUE REALIZATION:
   - Baseline metric fields
   - Target metric fields
   - Actual/tracked value fields
   - ROI or breakeven calculations
   - Any monthly tracking mechanism
   
   FOR CAPABILITY TRANSITION:
   - Staffing or FTE tracking
   - Independence percentage
   - Knowledge transfer milestones
   - Certification or training tracking
   
   FOR RESPONSIBLE AI:
   - Risk assessment fields
   - Compliance tracking
   - Human-in-the-loop flags
   - Audit trail capabilities

=== PART 5: EXTENSIBILITY CHECK ===

7. Assess how easy it would be to extend:
   - Can metadata_config JSONB accommodate new config types (tomConfig, valueConfig, transitionConfig)?
   - Can use_cases table accept new JSONB fields without migration issues?
   - Are there established patterns for adding new tabs/pages?
   - Are there established patterns for adding new admin configurations?

=== PART 6: TECH DEBT CHECK ===

8. Identify any blockers or concerns:
   - Any circular dependencies
   - Any hardcoded values that should be configurable
   - Any inconsistent patterns that might cause issues
   - Any performance concerns with current queries

=== OUTPUT FORMAT ===

Please structure your response as:

## AUDIT FINDINGS

### 1. Schema Summary
[table-by-table breakdown]

### 2. Existing TOM-Related Features
[what exists vs what's missing]

### 3. Existing Value-Related Features  
[what exists vs what's missing]

### 4. Existing Transition-Related Features
[what exists vs what's missing]

### 5. Existing Responsible AI Features
[what exists vs what's missing]

### 6. Reusable Components
[LEGO blocks and patterns we can leverage]

### 7. Extension Points
[where and how to add new features]

### 8. Concerns/Blockers
[anything that needs addressing before Phase 1]

### 9. Recommendations
[your assessment of readiness for Phase 1: TOM Configurator]

DO NOT generate any code, create any files, or make any changes. This is a READ-ONLY audit.
```

---

## Why This Audit Structure

| Section | Purpose |
|---------|---------|
| Schema Audit | Understand data model extensibility |
| API Audit | Know what endpoints exist for reuse |
| Frontend Audit | Identify LEGO patterns to follow |
| Feature Gaps | Map existingâ†’needed for each Markel point |
| Extensibility | Confirm architectural readiness |
| Tech Debt | Surface blockers before they derail Phase 1 |

Once you get the audit results back, share them with me and we can refine the Phase 1 scope based on what actually exists versus what we assumed.